<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- nav style -->
  <link rel="stylesheet" href="/styles/nav.css">
  <link rel="stylesheet" href="/styles/book-pages/show.css">
  <title>Book Show Page</title>
</head>
<body>
  <!-- header partial-->
  <%-include('../nav.ejs', {userID: user._id})%> 
  <main>
    <section class="bookCover">
      <div class="leftCover"></div>
      <div class="spine"></div>
      <div class="rightCover"></div>
    </section>
    <section class="bookData">
      <div class="leftPage">
        <h2>Book Lookup</h2>
        <hr />
        <form class="queryForm" action="/books/search" method="GET">
          <input name="query" class="bookQuery" value="<%=query%>">
          <button type="submit" class="queryButton">Search</button>
        </form>
        <hr />
        <section class="results">
          <% foundBooks.forEach(book => { %>
            <div class="result">
              <img src="<%=book.img%>">
              <h4 class="grTitle"><%=book.title%></h4>
              <h5 class="grAuthor"><%=book.author%></h5>
              <p class="grDate"><%=book.PubDate%></p>
              <form action="/books" method="POST">
                <input class="grTitleInput" type="text" name="title" value="<%=book.title%>">
                <input class="grAuthorInput" type="text" name="author" value="<%=book.author%>">
                <input class="grDateInput" type="text" name="PubDate" value="<%=book.PubDate%>">
                <input class="grShelfInput" type="text" name="shelf" value="<%=user.bookshelves[0]%>">
                <button class="grButton" type="submit">Add Book</button>
              </form>
            </div>
          <% }) %>
        </section>
      </div>
      <div class="rightPage">
        <form action="/books" method="POST">
          <h2 class="title"> Title: <input type="text" name="title"> </h2>
          <h3 class="author">Author: <input type="text" name="author"></h3>
          <h4 class="date">Publication Date:
            <input type="text" name="PubDate">
          </h4>
          <hr />
          <p class='summaryBox'> Summary: <textarea type="text" name="summary" class="summaryBox"></textarea>
          </p>
          <p class='reviewBox'>Primary Review:
            <textarea name="primaryReview" class="reviewBox"></textarea>
          </p>
          <!-- What if user doesn't have any shelves yet? -->
          <label for="shelf">Shelf: </label>
          <select type="text" name="shelf" id="shelf">
            <% user.bookshelves.forEach(shelf=>{ %>
              <option value="<%=shelf%>"><%=shelf%></option>
            <% }) %>
          </select>
          <p>Color: <input type="text" name="color" id="">
          </p>
          <button type="submit" class="addButton">Add Book</button>
        </form>
      </div>
      <div class="rightStack"></div>
    </section>
  </main>
  
</body>
</html>